{"ast":null,"code":"import _regeneratorRuntime from \"/Users/jahnaviarumalla/Downloads/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jahnaviarumalla/Downloads/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/jahnaviarumalla/Downloads/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jahnaviarumalla/Downloads/react-app/src/Login.js\";\nimport React, { useState } from 'react';\n\nfunction Login(props) {\n  var username = useFormInput('');\n  var password = useFormInput('');\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1]; // handle button click of login form\n\n\n  var handleLogin = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"https://xc5r8648w5.execute-api.us-east-2.amazonaws.com/prod/auth\", {\n                method: 'POST',\n                // *GET, POST, PUT, DELETE, etc.\n                mode: 'no-cors',\n                // no-cors, *cors, same-origin\n                cache: 'no-cache',\n                // *default, no-cache, reload, force-cache, only-if-cached\n                credentials: 'same-origin',\n                // include, *same-origin, omit\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': '*' // 'Content-Type': 'application/x-www-form-urlencoded',\n\n                },\n                redirect: 'follow',\n                // manual, *follow, error\n                referrerPolicy: 'no-referrer',\n                // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n                body: JSON.stringify({\n                  username: username.value,\n                  password: password.value\n                }) // body data type must match \"Content-Type\" header\n\n              }).then(function (res) {\n                return res.json();\n              }).then(function (res) {\n                console.log(res);\n\n                if (res.authenticated) {\n                  setError('');\n                  sessionStorage.setItem('userDetails', JSON.stringify(res.userDetails));\n                  props.history.push('/home');\n                } else {\n                  setError('Username/Password is invalid');\n                }\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleLogin() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, \"Username\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"text\"\n  }, username, {\n    autoComplete: \"new-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"Password\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"password\"\n  }, password, {\n    autoComplete: \"new-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }))), error && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"small\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 19\n    }\n  }, error), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 66\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 76\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }));\n}\n\nvar useFormInput = function useFormInput(initialValue) {\n  var _useState5 = useState(initialValue),\n      _useState6 = _slicedToArray(_useState5, 2),\n      value = _useState6[0],\n      setValue = _useState6[1];\n\n  var handleChange = function handleChange(e) {\n    setValue(e.target.value);\n  };\n\n  return {\n    value: value,\n    onChange: handleChange\n  };\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/jahnaviarumalla/Downloads/react-app/src/Login.js"],"names":["React","useState","Login","props","username","useFormInput","password","error","setError","loading","setLoading","handleLogin","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","value","then","res","json","console","log","authenticated","sessionStorage","setItem","userDetails","history","push","marginTop","color","initialValue","setValue","handleChange","e","target","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n \nfunction Login(props) {\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n \n  // handle button click of login form\n  const handleLogin = async () => {\n    await fetch(\"https://xc5r8648w5.execute-api.us-east-2.amazonaws.com/prod/auth\", {\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\n            mode: 'no-cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            credentials: 'same-origin', // include, *same-origin, omit\n            headers: {\n              'Content-Type': 'application/json',\n              'Access-Control-Allow-Origin': '*'\n              // 'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n            body: JSON.stringify({username: username.value, password: password.value}) // body data type must match \"Content-Type\" header\n          })\n        .then(res => res.json())\n        .then(res => {\n            console.log(res);\n            if(res.authenticated) {\n              setError('');\n              sessionStorage.setItem('userDetails', JSON.stringify(res.userDetails));\n              props.history.push('/home');\n            } else {\n              setError('Username/Password is invalid');\n            }\n        });\n    \n  }\n \n  return (\n    <div className=\"login-block\">\n      <div className=\"title\">Login</div>\n      <br /><br />\n      <div>\n        Username<br />\n        <input type=\"text\" {...username} autoComplete=\"new-password\" />\n      </div>\n      <div style={{ marginTop: 10 }}>\n        Password<br />\n        <input type=\"password\" {...password} autoComplete=\"new-password\" />\n      </div>\n      {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\n      <button type=\"button\" onClick={handleLogin}>Submit</button>\n      <br />\n    </div>\n  );\n}\n \nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n \n  const handleChange = e => {\n    setValue(e.target.value);\n  }\n  return {\n    value,\n    onChange: handleChange\n  }\n}\n \nexport default Login;"]},"metadata":{},"sourceType":"module"}